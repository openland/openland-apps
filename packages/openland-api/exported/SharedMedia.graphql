query SharedMedia($after: String, $chatId: ID!, $first: Int!, $mediaTypes: [SharedMediaType!]!) {
  sharedMedia: chatSharedMedia(after: $after, chatId: $chatId, first: $first, mediaTypes: $mediaTypes) {
    __typename
    edges {
      __typename
      cursor
      node {
        __typename
        message {
          __typename
          ... on GeneralMessage {
            attachments {
              __typename
              ... on MessageAttachmentFile {
                fallback
                fileId
                fileMetadata {
                  __typename
                  imageFormat
                  imageHeight
                  imageWidth
                  isImage
                  mimeType
                  name
                  size
                }
                filePreview
                id
              }
              ... on MessageRichAttachment {
                id
                image {
                  __typename
                  url
                }
                imageFallback {
                  __typename
                  photo
                }
                imagePreview
                text
                title
                titleLink
              }
            }
            date
            fallback
            id
            sender {
              __typename
              id
              name
            }
          }
        }
      }
    }
    pageInfo {
      __typename
      currentPage
      hasNextPage
    }
  }
}