fragment VoiceChatParticipant on VoiceChatParticipant {
    id
    user {
        id
        name
        firstName
        photo
    }
    status
}

fragment VoiceChatWithSpeakers on VoiceChat {
    id
    title
    listenersCount
    speakersCount
    me {
        ...VoiceChatParticipant
    }
    speakers {
        ...VoiceChatParticipant
    }
}

query VoiceChat($id: ID!) {
    voiceChat(id: $id) {
        ...VoiceChatWithSpeakers
    }
}

query VoiceChatListeners($id: ID!, $first: Int!, $after: String) {
    voiceChatListeners(id: $id, first: $first, after: $after) {
        items {
            ...VoiceChatParticipant
        }
        cursor
    }
}

query ActiveVoiceChats($first: Int!, $after: String) {
    activeVoiceChats(first: $first, after: $after) {
        cursor
        items {
            ...VoiceChatWithSpeakers
        }
    }
}

query VoiceChatUser($uid: ID!) {
    user(id: $uid) {
        id
        followingCount
        followersCount
        followedByMe
    }
}

mutation VoiceChatCreate($input: VoiceChatInput!) {
    voiceChatCreate(input: $input) {
        ...VoiceChatWithSpeakers
    }
}

mutation VoiceChatJoin($id: ID!) {
    voiceChatJoin(id: $id) {
        ...VoiceChatWithSpeakers
    }
}

mutation VoiceChatUpdate($id: ID!, $input: VoiceChatInput!) {
    voiceChatUpdate(id: $id, input: $input) {
        id
    }
}

mutation VoiceChatEnd($id: ID!) {
    voiceChatEnd(id: $id) {
        id
    }
}

mutation VoiceChatLeave($id: ID!) {
    voiceChatLeave(id: $id)
}

mutation VoiceChatUpdateAdmin($id: ID!, $uid: ID!, $admin: Boolean!) {
    voiceChatUpdateAdmin(id: $id, uid: $uid, admin: $admin)
}

mutation VoiceChatKick($id: ID!, $uid: ID!) {
    voiceChatKick(id: $id, uid: $uid)
}

mutation VoiceChatPromote($id: ID!, $uid: ID!) {
    voiceChatPromote(id: $id, uid: $uid)
}

mutation VoiceChatDemote($id: ID!, $uid: ID!) {
    voiceChatDemote(id: $id, uid: $uid)
}
